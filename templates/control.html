{% extends "base.html" %}

{% block content %}

<div class="content-area">
    <h1>Simulink Controller Design</h1>

    <div class="spacer3"></div>

        <!-- Table of Contents -->
    <div class="table-of-contents">
        <h2>Contents</h2>
        <ul>
            <li><a href="#PID">PID(Closed-Loop)</a></li>
            <li><a href="#state-space">State Space(Closed-Loop)</a></li>
            <li><a href="#Open-Loop-VS-PID-VS-State-Space">Open Loop VS PID VS State Space</a></li>
        </ul>
    </div>

<section id="PID">
    <h2>PID(Closed-Loop)</h2>
    
    <div class="spacer2"></div>

    <img src="{{ url_for('static', filename='Images/Simulink(PIDB).png') }}" alt="Simulink(PID)" class="PID-image">
   <p class="intro-text">For simulink PID system same as the simulink modeling but just add the PID block and reference block (0.065). Don't forget the feedback like on above image.</p>
    <div class="spacer3"></div>

    <img src="{{ url_for('static', filename='Images/Simulink(PIDC).png') }}" alt="Simulink(PID)" class="fifth-image">
    <p class="intro-text">Doble click the PID block, find automated tuning(red square) to get the best tuning.</p>
    <p class="image-description"><b>PID Values:</b></p>
    <p class="image-description">Proportional (P) = <b>1220700.47323787</b></p>
    <p class="image-description">Integral (I) = <b>1321094.32662005</b></p>
    <p class="image-description">Derivative (D) = <b>277225.578361616</b></p>
    <div class="spacer3"></div>

    <img src="{{ url_for('static', filename='Images/Simulink(PID).png') }}" alt="Simulink(PID)" class="simulink-image">
    <p class="intro-text">Run the simulation. Click scope to see the output.</p>
        <p>Step Response Information (PID):</p>
        <ul>
            <li>Rise Time: {{ 0.3634 }} seconds</li>
            <li>Settling Time: {{ 2.1293 }} seconds</li>
            <li>Overshoot: {{ 0 }} %</li>
            <li>Steady-State Value: {{ 0.065 }} meters</li>
        </ul>
</section>

  <div class="spacer3"></div>

<section id="state-space">
    <h2>State Space(Closed-Loop)</h2>

    <div class="spacer2"></div>
    
    <img src="{{ url_for('static', filename='Images/Simulink(SSB).png') }}" alt="Simulink(SSB)" class="PID-image">
    <p class="image-description">Input Value(C) - <b>Pressure = 20684.28</b></p>
    <p class="image-description"><b>State Space Values:</b></p>
    <p class="image-description">A = <b>[0 1; -k/m -b/m]</b></p>
    <p class="image-description">B = <b>[0; A_piston/m]</b></p>
    <p class="image-description">C = <b>[1 0]</b></p>
    <p class="image-description">D = <b>[0]</b></p>
    <p class="image-description">K = <b>place(A, B, desired_poles)</b></p>
    <p class="image-description">where <b>desired_poles = [-2 -2.5]</b></p>
    <div class="spacer3"></div>

    <img src="{{ url_for('static', filename='Images/Simulink(SSC).png') }}" alt="Simulink(SS)" class="fifth-image">
    <p class="intro-text">Change all of the gain to <b>Matrix(K*u)</b> such as above image. <b>WHY?</b></p>
    <p class="intro-text">In state feedback, K is often a row vector (1×n), and u (the state vector) is a column vector (n×1). To calculate the control input ( u = -Kx ), you must multiply them in this order:</p>
    <p class="intro-text">[K.*u] That’s not element-wise multiplication, it’s true matrix multiplication. If you accidentally use element-wise (.*), the result would be mathematically incorrect and may lead to simulation errors or meaningless output.</p>
    <p class="intro-text"><b>K (1×n) * x (n×1) = u (1×1)</b>. This ensures that the dimensions align correctly for matrix multiplication.</p>

    <div class="spacer3"></div>
    
    <img src="{{ url_for('static', filename='Images/Simulink(SS).png') }}" alt="Simulink(SS)" class="simulink-image">
    <p>Step Response Information (State-Space):</p>
        <ul>
            <li>Rise Time: {{ 1.5235 }} seconds</li>
            <li>Settling Time: {{ 2.6478 }} seconds</li>
            <li>Overshoot: {{ 0 }} %</li>
            <li>Steady-State Value: {{ 0.065 }} meters</li>
        </ul>
    <p class="intro-text">In pole placement control, the goal is to choose feedback gains that shift the system poles to locations that yield desired dynamics like fast rise time, no overshoot, and quick settling. This graph confirms that your chosen feedback gain matrix (K) successfully shaped the system response just as intended.</p>

    <div class="spacer3"></div>

<section id="Open-Loop-VS-PID-VS-State-Space">
    <h2>Open Loop VS PID VS State Space</h2>
    <div class="spacer2"></div>
    <img src="{{ url_for('static', filename='Images/SSvsPID.png') }}" alt="SSvsPID" class="six-image">
    <p>
      The image compares the step responses of a pneumatic system under three different control strategies: <strong>open-loop control</strong>, <strong>PID control</strong>, and <strong>state-space control</strong>. Here's what it shows and why these differences occur:
    </p>

    <b>Open-Loop Control</b>
    <p>
      The open-loop response highlights that there is no feedback correction. The system typically exhibits a rapid rise in output followed by some overshoot before settling. Without feedback, the controller cannot compensate for disturbances or dynamic errors, which can lead to noticeable overshoot and a less refined response.
    </p>

    <b>PID Control</b>
    <p>
      When a PID controller is used, the system uses error correction (through its proportional, integral, and derivative actions) to adjust the input dynamically. While this usually improves performance by reducing steady-state error, the aggressive action especially from the derivative component can sometimes cause a pronounced overshoot. The response generally converges to the desired set point, but the transient reaction might be more oscillatory compared to state-space control.
    </p>

    <b>State-Space Control</b>
    <p>
      The state-space approach takes into account the full dynamics of the system by using state variables and providing a more holistic feedback strategy. This results in a smoother response with minimal or no overshoot. The controller effectively manages the system’s internal dynamics and interactions, leading to a more critically damped and balanced performance.
    </p>

    <b>Why the Responses Differ</b>
    <p>
      Even though the system parameters are consistent, the control methods handle the system dynamics in fundamentally different ways. Open-loop control doesn't adjust for real-time deviations, PID control relies on error correction which can be sensitive to the tuning of its gains, and state-space control offers precise management of all the state variables, leading to a more controlled response.
    </p>

    <p>
      This comparative analysis is invaluable for understanding the trade-offs between simplicity and performance and emphasizes why feedback is crucial in achieving a stable and optimal system response.
    </p>


</section>

</div>
{% endblock %}
